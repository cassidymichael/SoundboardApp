<Window x:Class="Soundboard.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Settings"
        Width="700" Height="500"
        MinWidth="550" MinHeight="400"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False"
        Background="{StaticResource SurfaceBackgroundBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="180" MinWidth="140"/>
            <ColumnDefinition Width="1"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Left: Category Navigation -->
        <Border Grid.Row="0" Grid.Column="0" Background="{StaticResource ElevatedSurfaceBrush}">
            <DockPanel>
                <!-- Header -->
                <TextBlock DockPanel.Dock="Top"
                           Text="Settings"
                           FontSize="18"
                           FontWeight="SemiBold"
                           Foreground="{StaticResource PrimaryTextBrush}"
                           Margin="16,20,16,16"/>

                <!-- Category List -->
                <ListBox ItemsSource="{Binding Categories}"
                         SelectedItem="{Binding SelectedCategory}"
                         Background="Transparent"
                         BorderThickness="0"
                         ItemTemplate="{StaticResource CategoryItemTemplate}"
                         ItemContainerStyle="{StaticResource CategoryItemContainerStyle}"/>
            </DockPanel>
        </Border>

        <!-- Separator -->
        <Rectangle Grid.Row="0" Grid.Column="1" Fill="{StaticResource BorderMediumBrush}"/>

        <!-- Right: Settings Content -->
        <Border Grid.Row="0" Grid.Column="2" Background="{StaticResource SurfaceBackgroundBrush}">
            <DockPanel>
                <!-- Category Header -->
                <Border DockPanel.Dock="Top"
                        BorderBrush="{StaticResource BorderLightBrush}"
                        BorderThickness="0,0,0,1"
                        Padding="24,16">
                    <TextBlock Text="{Binding SelectedCategory.Name}"
                               FontSize="16"
                               FontWeight="SemiBold"
                               Foreground="{StaticResource PrimaryTextBrush}"/>
                </Border>

                <!-- Settings List -->
                <ScrollViewer Style="{StaticResource ThinScrollViewer}"
                              VerticalScrollBarVisibility="Auto">
                    <ItemsControl ItemsSource="{Binding SelectedCategory.Settings}"
                                  Margin="24,20,24,24">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>
                </ScrollViewer>
            </DockPanel>
        </Border>

        <!-- Footer with Save/Cancel buttons -->
        <Border Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3"
                Background="{StaticResource ElevatedSurfaceBrush}"
                BorderBrush="{StaticResource BorderLightBrush}"
                BorderThickness="0,1,0,0"
                Padding="16,12">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Cancel"
                        Command="{Binding CancelCommand}"
                        Style="{StaticResource SecondaryButtonStyle}"
                        Margin="0,0,8,0"
                        MinWidth="80"/>
                <Button Content="Save"
                        Command="{Binding SaveCommand}"
                        MinWidth="80"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
